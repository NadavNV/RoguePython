from PIL import Image

from typing import List, Tuple


white = (0xFF, 0xFF, 0xFF)
black = (0x0, 0x0, 0x0)
red = (0xFF, 0x0, 0x0)
yellow = (0xFF, 0xFF, 0xFF)

player_atk = (0xE0, 0xE0, 0xE0)
enemy_atk = (0xFF, 0xC0, 0xC0)
needs_target = (0x3F, 0xFF, 0xFF)
status_effect_applied = (0x3F, 0xFF, 0x3F)
descend = (0x9F, 0x3F, 0xFF)

player_die = (0xFF, 0x30, 0x30)
enemy_die = (0xFF, 0xA0, 0x30)

invalid = (0xFF, 0xFF, 0x00)
impossible = (0x80, 0x80, 0x80)
error = (0xFF, 0x40, 0x40)

welcome_text = (0x20, 0xA0, 0xFF)
health_recovered = (0x0, 0xFF, 0x0)

player_icon = (0x3F, 0x7F, 0x3F)
janitor_icon = (0x6F, 0x8F, 0xAF)
lumberjack_icon = (0xC7, 0x0, 0x39)

bar_text = white

bar_hp_filled = (0x0, 0x60, 0x0)
bar_mana_filled = (0x30, 0x30, 0x60)
bar_empty = (0x40, 0x10, 0x10)

buff = (0x93, 0xC4, 0x7D)
debuff = (0xE0, 0x66, 0x66)


def image_to_rgb(filename: str) -> List[List[Tuple[int, int, int]]]:
    with Image.open(filename) as im:
        data = list(im.convert('RGB').getdata())
        result = []
        for y in range(im.height):
            row = []
            for x in range(im.width):
                row.append(data[x + y * im.width])
            result.append(list(row))
        return result
